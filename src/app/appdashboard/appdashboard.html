<main
  class="w-full min-h-screen flex flex-col items-center justify-start bg-[linear-gradient(135deg,#e6f4ff,#60a5fa)] relative pt-20"
  (document:keydown)="handleKeydown($event)">
  <!-- Dashboard Tiles -->
  <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-8">
    <!-- Static + Dynamic Tiles together -->
    <app-tile *ngFor="let route of allRoutes" [icon]="route.data?.['icon']" [label]="route.data?.['label']"
      (click)="navigate('/' + route.path)"></app-tile>
  </div>

  <!-- Search Overlay -->
  <div *ngIf="showSearch"
    class="fixed inset-0 bg-black/40 backdrop-blur-md flex flex-col items-center justify-start pt-40 transition-opacity duration-300 z-50"
    (click)="closeSearch()">
    <div class="bg-white/90 shadow-2xl rounded-2xl w-full max-w-xl p-5" (click)="$event.stopPropagation()">
      <div class="flex items-center gap-3 mb-3 border-b pb-3">
        <fa-icon [icon]="faArrowCircleLeft" class="text-gray-500 text-xl"></fa-icon>
        <input type="text" [(ngModel)]="searchTerm" (input)="onSearchChange()" placeholder="Search HRMS modules..."
          class="flex-1 bg-transparent outline-none text-lg placeholder-gray-400 text-gray-800" autofocus />
      </div>

      <ul *ngIf="filteredRoutes.length > 0" class="divide-y divide-gray-200">
        <li *ngFor="let route of filteredRoutes" (click)="navigate('/' + route.path)"
          class="py-3 cursor-pointer hover:bg-blue-100 flex items-center gap-3 rounded-lg transition">
          <fa-icon [icon]="route.data?.['icon']" class="text-blue-600"></fa-icon>
          <span>{{ route.data?.['label'] }}</span>
        </li>
      </ul>

      <div *ngIf="filteredRoutes.length === 0 && searchTerm" class="text-gray-500 text-center py-4">
        No matching modules found.
      </div>
    </div>
  </div>
</main>