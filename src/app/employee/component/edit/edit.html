<main class="w-full min-h-screen py-16 px-6 flex justify-center items-start">
    <div class="w-full bg-white/95 backdrop-blur-xl shadow-2xl rounded-3xl overflow-hidden border border-gray-100">
        <!-- Header -->
        <div
            class="flex justify-between items-center px-8 py-6 border-b border-gray-200 bg-gradient-to-r from-blue-500 to-blue-600 text-white">
            <div>
                <h2 class="text-2xl font-semibold tracking-wide">Add New Employee</h2>
                <p class="text-sm opacity-90">Fill in employee details below</p>
            </div>
            <div class="flex gap-3">
                <button type="button"
                    class="bg-white/20 hover:bg-white/30 text-white font-medium px-4 py-2 rounded-lg transition-all backdrop-blur-md">
                    Discard
                </button>
                <button type="submit" form="employeeForm"
                    class="bg-white text-blue-600 hover:bg-blue-50 font-semibold px-5 py-2 rounded-lg shadow transition-all">
                    Save
                </button>
            </div>
        </div>

        <!-- Form -->
        <form id="employeeForm" #f="ngForm" (ngSubmit)="onSubmit(f)" class="p-8 space-y-10">
            <!-- ==================== Tab: Basic Info ==================== -->
            <div class="space-y-8">
                <div class="grid grid-cols-12 gap-4 items-center">
                    <!-- Left Side -->
                    <div class="col-span-10 space-y-4">
                        <input name="name" ngModel required placeholder="Full Name"
                            class="w-full border border-gray-300 rounded-xl px-4 py-2.5 focus:ring-2 focus:ring-blue-400 focus:border-blue-500 placeholder-gray-400" />
                        <input name="jobTitle" ngModel placeholder="Job Title"
                            class="w-1/2 border border-gray-300 rounded-xl px-4 py-2.5 focus:ring-2 focus:ring-blue-400 focus:border-blue-500 placeholder-gray-400" />
                    </div>

                    <!-- Image Picker -->
                    <div class="col-span-2 flex justify-center relative">
                        <label class="relative cursor-pointer group">
                            <img [src]="
                  imagePreview ||
                  'https://cdn-icons-png.flaticon.com/512/149/149071.png'
                " alt="Profile"
                                class="w-24 h-24 md:w-32 md:h-32 object-cover border-2 border-blue-400 shadow-md rounded-full group-hover:opacity-80 transition-all" />
                            <div
                                class="absolute bottom-1 right-1 bg-blue-600 text-white p-1.5 shadow-md rounded-full group-hover:bg-blue-700 transition-all">
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M12 4v16m8-8H4" />
                                </svg>
                            </div>
                            <input type="file" accept="image/*" (change)="onImageSelected($event)" class="hidden" />
                        </label>
                    </div>
                </div>

                <!-- Basic Info Fields -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-8">
                    <div>
                        <label class="block text-gray-700 font-semibold mb-1">Work Email</label>
                        <input type="email" name="email" ngModel placeholder="example@company.com"
                            class="w-full border border-gray-300 rounded-xl px-4 py-2.5 focus:ring-2 focus:ring-blue-400 focus:border-blue-500 placeholder-gray-400" />
                    </div>

                    <div>
                        <label class="block text-gray-700 font-semibold mb-1">Work Phone</label>
                        <input name="work_phone" ngModel placeholder="+92 300 0000000"
                            class="w-full border border-gray-300 rounded-xl px-4 py-2.5 focus:ring-2 focus:ring-blue-400 focus:border-blue-500 placeholder-gray-400" />
                    </div>

                    <div>
                        <label class="block text-gray-700 font-semibold mb-1">Department</label>
                        <select name="department" ngModel
                            class="w-full border border-gray-300 rounded-xl px-4 py-2.5 focus:ring-2 focus:ring-blue-400 focus:border-blue-500 bg-white">
                            <option>Select Department</option>
                            <option>Human Resources</option>
                            <option>Finance</option>
                            <option>IT</option>
                            <option>Sales</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-gray-700 font-semibold mb-1">Joining Date</label>
                        <input type="date" name="joiningDate" ngModel
                            class="w-full border border-gray-300 rounded-xl px-4 py-2.5 focus:ring-2 focus:ring-blue-400 focus:border-blue-500 bg-white" />
                    </div>
                </div>
            </div>
            <!-- Tabs Navigation -->
            <div class="flex border-b border-gray-200 bg-gray-50/80">
                <button *ngFor="let tab of tabs" (click)="activeTab = tab"
                    class="px-6 py-3 font-medium text-sm transition-all"
                    [ngClass]="{'border-b-2 border-blue-600 text-blue-600 bg-white':activeTab === tab, 'text-gray-600 hover:text-blue-500': activeTab !== tab}">
                    {{ tab }}
                </button>
            </div>
            <!-- ==================== Tab: Resume ==================== -->
            <div *ngIf="activeTab === 'Resume'" class="space-y-8">
                <div class="grid grid-cols-3 gap-4">
                    <div class="col-span-2">
                        <h6 class="text-lg font-semibold text-gray-700">Previous Experience</h6>
                        <div>
                            <button (click)="showWizard = true"
                                class="py-2 px-4 rounded-lg bg-gradient-to-r from-blue-500 to-blue-600 border border-amber-50 text-white hover:opacity-90 transition-all">
                                Add
                            </button>

                            <!-- Display saved experiences -->
                            <div class="mt-4 space-y-3" *ngIf="experienceList.length">
                                <div *ngFor="let exp of experienceList"
                                    class="p-4 border border-gray-200 rounded-xl bg-gray-50">
                                    <h4 class="font-semibold text-gray-800">{{ exp.title }}</h4>
                                    <p class="text-sm text-gray-600">{{ exp.company }}</p>
                                    <p class="text-xs text-gray-500">{{ exp.start_date }} - {{ exp.end_date }}</p>
                                    <p class="text-sm text-gray-700 mt-1">{{ exp.description }}</p>
                                </div>
                            </div>

                            <!-- Global Wizard Component -->
                            <app-wizard [title]="'Add Experience'" [fields]="experienceFields" [show]="showWizard"
                                (close)="showWizard = false" (submit)="onWizardSubmit($event)"></app-wizard>
                        </div>
                    </div>
                    <div class="col-span-1">
                        <h6 class="text-lg font-semibold text-gray-700">Skills</h6>
                        <button (click)="showSkillsWizard = true"
                            class="py-2 px-4 rounded-lg bg-gradient-to-r from-blue-500 to-blue-600 border border-amber-50 text-white hover:opacity-90 transition-all">
                            Add
                        </button>

                        <!-- Display saved experiences -->
                        <div class="mt-4 space-y-3" *ngIf="skillsList.length">
                            <div *ngFor="let Skill of skillsList"
                                class="p-4 border border-gray-200 rounded-xl bg-gray-50">
                                <h4 class="font-semibold text-gray-800">{{ Skill.skill_name }}</h4>
                                <p class="text-sm text-gray-600">{{ Skill.proficiency }}</p>
                                <p class="text-xs text-gray-500">{{ Skill.years_of_experience }}</p>
                                <p class="text-sm text-gray-700 mt-1">{{ Skill.certifications }}</p>
                            </div>
                        </div>
                        <!-- Global Wizard Component -->
                        <app-wizard [title]="'Add Experience'" [fields]="skillsFields" [show]="showSkillsWizard"
                            (close)="showSkillsWizard = false" (submit)="onSkillsWizardSubmit($event)"></app-wizard>
                    </div>
                </div>
            </div>

            <!-- ==================== Tab: Work Information ==================== -->
            <div *ngIf="activeTab === 'Work Information'" class="space-y-8">
                <h3 class="text-lg font-semibold text-gray-700">Approvers</h3>
                <div class="grid md:grid-cols-2 gap-6">
                    <input name="leaveApprover" ngModel placeholder="Leave Approver"
                        class="border border-gray-300 rounded-xl px-4 py-2.5" />
                    <input name="expenseApprover" ngModel placeholder="Expense Approver"
                        class="border border-gray-300 rounded-xl px-4 py-2.5" />
                </div>

                <div class="grid md:grid-cols-2 gap-6">
                    <input name="work_location" ngModel placeholder="Work Location"
                        class="border border-gray-300 rounded-xl px-4 py-2.5" />
                    <input name="timezone" ngModel placeholder="Timezone"
                        class="border border-gray-300 rounded-xl px-4 py-2.5" />
                </div>
            </div>

            <!-- ==================== Tab: Private Information ==================== -->
            <div *ngIf="activeTab === 'Private Information'" class="space-y-8">
                <h3 class="text-lg font-semibold text-gray-700">Private Details</h3>
                <div class="grid md:grid-cols-2 gap-6">
                    <input name="private_email" ngModel placeholder="Private Email"
                        class="border border-gray-300 rounded-xl px-4 py-2.5" />
                    <input name="private_phone" ngModel placeholder="Private Phone"
                        class="border border-gray-300 rounded-xl px-4 py-2.5" />
                    <input name="city" ngModel placeholder="City"
                        class="border border-gray-300 rounded-xl px-4 py-2.5" />
                    <input name="zip" ngModel placeholder="ZIP Code"
                        class="border border-gray-300 rounded-xl px-4 py-2.5" />
                </div>
            </div>

            <!-- ==================== Tab: Settings ==================== -->
            <div *ngIf="activeTab === 'Settings'" class="space-y-8">
                <h3 class="text-lg font-semibold text-gray-700">Employee Settings</h3>
                <div class="grid md:grid-cols-2 gap-6">
                    <select name="status" ngModel class="border border-gray-300 rounded-xl px-4 py-2.5">
                        <option>Status</option>
                        <option>Active</option>
                        <option>Inactive</option>
                    </select>
                    <select name="employeeType" ngModel class="border border-gray-300 rounded-xl px-4 py-2.5">
                        <option>Employee Type</option>
                        <option>Employee</option>
                        <option>Contractor</option>
                    </select>
                </div>
            </div>
        </form>

    </div>
</main>